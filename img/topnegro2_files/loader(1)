
window._event_collector=window._event_collector||[],_event_collector.send=_event_collector.send||function(){},_event_collector.__rely_cookieless_campaign_join=function(e){var t;void 0!==navigator.joinAdInterestGroup&&(e=e&&e.length&&0<e.length?e.join(","):"",(t=document.createElement("script")).src="https://cookieless-campaign.prd-00.retargetly.com/static/dsp/dsp-tag.js?audiences="+e,t.defer=!0,t.id="rely-dsp-tag",document.getElementsByTagName("head")[0].appendChild(t))},_event_collector.post=function(e){_event_collector.push(e),_event_collector.send()},_event_collector.getCookie=function(e){var o=e+"=",c=document.cookie.split(";"),n="";for(let t=0;t<c.length;t++){let e=c[t];for(;" "==e.charAt(0);)e=e.substring(1);0==e.indexOf(o)&&(n=e.substring(o.length,e.length))}return n},_event_collector.isStorageAvailable=function(e){try{e=window[e];var t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}},_event_collector.isCookieAvailable=function(){let e=navigator.cookieEnabled;try{var t;e||(t="testcookie",document.cookie=t,e=-1!==document.cookie.indexOf(t))}catch(e){return!1}return e},_event_collector.get1P=function(o){try{let e=null,t=null;return _event_collector.isCookieAvailable()&&(e=_event_collector.getCookie(o)),_event_collector.isStorageAvailable("localStorage")&&(t=window.localStorage.getItem(o)),e||t}catch(e){}},_event_collector.extractHostname=function(e){let t;return t=(t=(t=-1<e.indexOf("//")?e.split("/")[2]:e.split("/")[0]).split(":")[0]).split("?")[0]},_event_collector.extractRootDomain=function(e){let t=_event_collector.extractHostname(e),o=t.split("."),c=o.length;return t=2<c&&(t=o[c-2]+"."+o[c-1],2==o[c-2].length)&&2==o[c-1].length?o[c-3]+"."+t:t},_event_collector.cookieStringify=t=>Object.keys(t).map(e=>e+"="+t[e]).join(";"),_event_collector.saveFirstPartyCookie=function(t,o,c=15552e6){if(_event_collector.isStorageAvailable("localStorage")&&window.localStorage.setItem(t,o),_event_collector.isCookieAvailable()){var n={};n[t]=o,n.path="/";let e="";try{e=_event_collector.extractRootDomain(window.location.hostname)}catch(e){}e&&(n.domain="."+e),document.cookie=t+"=; Max-Age=-99999;",n.expires=new Date((new Date).getTime()+c).toUTCString(),document.cookie=_event_collector.cookieStringify(n)}},_event_collector.getSavedEventCollector=function(){let e={};var t=_event_collector.get1P("_event_collector");return e=t&&"object"==typeof t?{...e,...t}:{fp_id:t}};var t2=document.createElement("script");_event_collector.pid=1830,t2.src="https://pdp-cdn.retargetly.com/t2.min.js",_event_collector._tpc_check=async function(){try{var e,t;return(ck=_event_collector.get1P("_no_cookied_tpc"))?ck:200!=(e=await fetch("https://pdp-service.retargetly.com/event_collector_cookies",{credentials:"include"}).catch({})).status?"false":(t=await e.json(),_event_collector.saveFirstPartyCookie("_no_cookied_tpc",t.nocookied.toString(),86400),t.nocookied.toString())}catch(e){return"false"}},t2.defer=!0,document.getElementsByTagName("head")[0].appendChild(t2);
function scriptHasBeenDefined(){try{return scriptDefined}catch(e){return!1}}if(scriptHasBeenDefined())throw new Error("Retargetly script has been already defined");var _rely=void 0!==_rely?_rely:[],_w=window,_d=document;const CH_USER_AGENT_PLATFORM="platform",CH_USER_AGENT_FULL_VERSION_LIST="fullVersionList",CH_USER_AGENT_MODEL="model",CH_USER_AGENT_BRAND_KEY="brand",CH_USER_AGENT_VERSION_KEY="version",EMPTY_STRING="";_rely.def=!0,_rely.timeout=2e3,_rely.postMessage=!0,_rely.ptc="https:"==_w.location.protocol?"https":"http",_rely.options=_rely.options?_rely.options:{},_rely.options.spa_autoreload=void 0===_rely.options.spa_autoreload||_rely.options.spa_autoreload,_rely.x=encodeURIComponent,_rely.iframeCount=0,_rely.referer="",_rely.segmentsToAssign=[],_rely.partnerSegmentsToAssign=[],_rely.h="api.retargetly.com",_rely.byteToHex=[];for(let e=0;e<256;++e)_rely.byteToHex[e]=(e+256).toString(16).substr(1);_rely.bytesToUuid=function(e,r){let t=r||0,i=_rely.byteToHex;return[i[e[t++]],i[e[t++]],i[e[t++]],i[e[t++]],"-",i[e[t++]],i[e[t++]],"-",i[e[t++]],i[e[t++]],"-",i[e[t++]],i[e[t++]],"-",i[e[t++]],i[e[t++]],i[e[t++]],i[e[t++]],i[e[t++]],i[e[t++]]].join("")},_rely.getRandomBytes=function(e){let r=self.crypto||self.msCrypto,t=new Uint8Array(e);for(let i=0;i<e;i+=65536)r.getRandomValues(t.subarray(i,i+Math.min(e-i,65536)));return t},_rely.uuiV4=function(e,r,t){let i=r&&t||0;"string"==typeof e&&(r="binary"===e?new Array(16):null,e=null),e=e||{};let s=_rely.getRandomBytes(16);if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,r)for(let e=0;e<16;++e)r[i+e]=s[e];return r||_rely.bytesToUuid(s)},_rely.generateRelyId=function(){return _rely.uuiV4()},_rely.generateAndSaveRelyId=function(){let e=_rely.generateRelyId();return _rely.saveLocalUserId(e),e},_rely.stack=[],_rely.stack.next=function(){if(this.gprc())return null;for(var e=0;e<this.length;e++)if(!this[e].sent)return this[e].sent=!0,this[e];return null},_rely.stack.gprc=function(){for(var e=0;e<this.length;e++)if(this[e].processing)return this[e];return null},_rely.callback=function(){var e=this.stack.gprc();e&&!e.processed&&(e.processing=!1,e.processed=!0,this.stack_call())},_rely.pts=function(e){if("pageview"!=e.type&&"formtags"!=e.type)for(var r=0;r<this.stack.length;r++)if(JSON.stringify(this.stack[r])==JSON.stringify(e))return!1;return this.stack.push(e),!0};try{var eventMethod=_w.addEventListener?"addEventListener":"attachEvent",eventer=_w[eventMethod],messageEvent="attachEvent"==eventMethod?"onmessage":"message";eventer(messageEvent,(function(e){if(e.origin==_rely.ptc+"://"+_rely.h&&void 0!==e.data){var r=(e.data+"").split("|");r.length>0&&("ok"==r[0]?_rely.callback():"sg"==r[0]&&_rely.saveSgInLocalStorageAndFPCookies(r[1]))}}),!1)}catch(e){_rely.postMessage=!1}_rely.get_client=function(e){for(var r in e)if("pid"==r)return e[r];return this.pid?this.pid:null},_rely.send=function(e=!0){var r,t,i,s,o=_rely,l={},n={},a=["tags","sec","gender","age","born","map","ml_sh5","ml_sh2","mb_sh5","mb_sh2","nid_sh5","nid_sh2","ml_raw","mb_raw","nid_raw","external_id","custom","sg","partnerSg"];if(void 0!==o&&void 0!==o.length&&(r=o.length)>0)for(var _=0;_<r;_++){t=o[_];var c=this.get_client(t);if(c&&(void 0===l[c]&&(l[c]={params:[]}),"function"==typeof piiEpsilon&&e&&piiEpsilon(t),"object"==typeof t))for(i in t)if(-1!==a.indexOf(i))if("map"===i)n[c]={id:this.x(t[i])};else if("custom"===i){if(t[i]&&"object"==typeof t[i])for(s in t[i])l[c].params.push("custom_"+s+"="+this.x(t[i][s]))}else"sg"===i?_rely.segmentsToAssign.push(...t[i]):"partnerSg"===i?_rely.partnerSegmentsToAssign.push(...t[i]):l[c].params.push(i+"="+this.x(t[i]))}if(Object.keys(l).length>0)for(i in l)this.pts({pid:i,type:"data",value:l[i].params.join("&")});else!this.postMessage&&this.sic&&this.pid&&this.pts({type:"sic",pid:this.pid});if(Object.keys(l).length>0)for(i in n)this.pts({type:"map",pid:i,value:n[i].id});this.stack_call(),this.length=0},_rely.stack_call=async function(){var e=this.stack.next();if(null!==e){var r="script",t="",i="";if(void 0!==_rely.options&&void 0!==_rely.options.limit_drop&&(i=_rely.options.limit_drop),"pageview"==e.type?(r="iframe",t=this.ptc+"://"+this.h+"/api?id="+e.pid+"&src="+e.s+"&url="+this.x(e.pv_obj.url)+"&browserUrl="+this.x(e.pv_obj.browserUrl)+"&ref="+this.x(e.pv_obj.referrer)+"&utmz="+this.x(e.pv_obj.utmz)+"&n="+this.x(e.pv_obj.title)+"&md="+this.x(e.pv_obj.description)+"&mk="+this.x(e.pv_obj.keywords)+"&il="+e.pv_obj.ilvl+"&limit_drop="+i+"&userid="+_rely.getLocalUserId()):"data"==e.type?t=this.ptc+"://"+this.h+"/data?id="+e.pid+"&"+e.value+"&userid="+_rely.getLocalUserId()+"&sg="+_rely.segmentsToAssign.join()+"&partnerSg="+_rely.partnerSegmentsToAssign.join():"formtags"==e.type?t=this.ptc+"://"+this.h+"/formtags?id="+e.pid:"sic"==e.type?t=this.ptc+"://"+this.h+"/cks?id="+e.pid:"map"==e.type&&(r="image",t=this.ptc+"://"+this.h+"/map?pid="+e.pid+"&mid="+e.value+"&rt=img&limit_drop="+i),""!=t){t+=await _rely.getUserAgentParams();var s=null;"iframe"==r?(this.iframeCount++,(s=_d.createElement("iframe")).setAttribute("id","rely-iframe-"+this.iframeCount),s.src=t,s.style.display="none"):"script"==r?(s=_d.createElement("script")).src=t:"image"==r&&((s=_d.createElement("img")).src=t),null!==s?(s.referrerPolicy="no-referrer-when-downgrade",e.processing=!0,s.onload=function(){this.callback()}.bind(this),setTimeout(function(){this.callback()}.bind(this),_rely.timeout),_d.body.appendChild(s)):this.callback()}}},_rely.getUserAgentClientHints=async function(){let e={};try{e=await navigator.userAgentData.getHighEntropyValues(["platform","fullVersionList","model"])}catch(e){}return e},_rely.getUserAgentParams=async function(){try{const e=await _rely.getUserAgentClientHints(),r=e.fullVersionList,t=e.model;let i=e.platform,s="";for(let e=0;e<r.length;e++){const t=r[e];s+=`${t.brand}/${t.version},`}return""!==t&&(i+=";"+t),`&fullVersionList=${encodeURIComponent(s)}&platform=${encodeURIComponent(i)}`}catch(e){}return""},_rely.pvo=function(){var e,r={},t=_w.parent!==_w.self?_w.parent===_w.top?1:2:0,i={ilvl:t,url:0==t?_d.location.href:1==t?_d.referrer:"",referrer:0==t?_d.referrer:"",title:0==t?_d.title:"",description:"",keywords:""};i.url=_rely.getUrl(i.url),i.browserUrl=_rely.browserUrl;try{r=_w.top.document,i.url=_d.top.location.href,i.referrer=r.referrer,i.title=r.title||""}catch(e){}this.referer&&(i.referrer=this.referer);var s=r.getElementsByTagName?r.getElementsByTagName("meta"):[];for(let e=0;e<s.length;e++)s[e].name&&"keywords"===s[e].name.toLowerCase()&&s[e].content?i.keywords=s[e].content.replace(/^\s+|\s+$/g,"").substr(0,100):s[e].name&&"description"===s[e].name.toLowerCase()&&s[e].content&&(i.description=s[e].content.replace(/^\s+|\s+$/g,"").substr(0,300));return _d.cookie&&(e=_d.cookie.match(/.*__utmz=([^;]*)/))?i.utmz=e[1]:i.utmz="",i},_rely.oldURL=_d.location.href,_rely.udts=200,_rely.udact=!1,_rely.rpv=function(){this.spv(this.pvo())},_rely.udtc=function(){_rely.udact=!0;var e=_rely.getUrl(_d.location.href);_rely.oldURL!=e&&(_rely.rpid(),_rely.referer=_rely.oldURL,_rely.oldURL=e,_rely.rpv()),setTimeout(_rely.udtc,_rely.udts)},_rely.rpid=function(){for(var e=0;e<_rl_ids.length;e++)_rl_ids[e].processed=!1},_rely.spv=function(e){var r,t=0;if("undefined"!=typeof _rl_ids){_rely.rmrid();for(var i=0;i<_rl_ids.length;i++)_rl_ids[i].processed||(t=_rl_ids[i].pid,r=0,"number"==typeof _rl_ids[i].src&&(r=_rl_ids[i].src),t&&(_rely.pid=t,this.pts({type:"pageview",pid:t,s:r,pv_obj:e}),"function"==typeof script_epsilon_tag&&script_epsilon_tag(),_rl_ids[i].processed=!0))}0!=this.stack.length&&(this.length>0&&this.send(),this.stack_call())},_rely.svid=function(){var e,r;if("undefined"==typeof _rl_ids&&(_rl_ids=[]),"number"==typeof _rl_id&&_rl_id>99)e=_rl_id,r=0,"number"==typeof _rl_src&&(r=_rl_src),_rl_ids.push({pid:e,src:r});else if(0==_rl_ids.length){var t=_d.getElementsByTagName("script"),i=t[t.length-1].getAttribute("src",2);i&&(e=i.match(/.*\?id=(\d\d\d+)/))&&_rl_ids.push({pid:e[1],src:0})}_rely.rmrid()},_rely.rmrid=function(){for(var e=_rl_ids.length-1;e>=0;e--)this.erid(_rl_ids[e].pid,_rl_ids[e].src,e)&&_rl_ids.splice(e)},_rely.erid=function(e,r,t){for(var i=0;i<_rl_ids.length;i++)if(i!=t&&_rl_ids[i].pid==e&&_rl_ids[i].src==r)return!0;return!1},_rely.parseCookies=function(e){let r={};return e.split(/\s*;\s*/).forEach((function(e){e=e.split(/\s*=\s*/),r[e[0]]=e.splice(1).join("=")})),r},_rely.cookies=function(){return _rely.parseCookies(document.cookie)},_rely.getCookieUserId=function(){let e=_rely.cookies();return e?e._rlid:""},_rely.getLocalStorageUserId=()=>{try{return localStorage.getItem("_rlid")}catch(e){return""}},_rely.getLocalStorageOrCookieUserId=()=>{let e=_rely.getLocalStorageUserId();return e||_rely.getCookieUserId()},_rely.saveLocalUserId=function(e){_rely.saveInLocalStorageAndFirstPartyCookie("_rlid",e)},_rely.cookieStringify=e=>Object.keys(e).map(r=>`${r}=${e[r]}`).join(";"),_rely.getElementFromLocalStorageOrCookies=e=>_rely.getElementFromLocalStorage(e)||_rely.getElementFromCookies(e),_rely.getElementFromLocalStorage=e=>{try{return localStorage.getItem(e)||""}catch(e){return""}},_rely.getElementFromCookies=e=>{try{return _rely.cookies()[e]}catch(e){return""}},_rely.saveInLocalStorage=(e,r)=>{try{localStorage&&localStorage.setItem(e,r)}catch(e){}},_rely.putInFirstPartyCookie=(e,r)=>{try{const t={};t[e]=r,t.path="/",t.expires=new Date((new Date).getTime()+7776e6).toUTCString(),document.cookie=_rely.cookieStringify(t)}catch(e){}},_rely.saveInFirstPartyCookies=(e,r)=>{try{_rely.options&&_rely.options.enableFirstPartyCookies&&_rely.putInFirstPartyCookie(e,r)}catch(e){}},_rely.saveInLocalStorageAndFirstPartyCookie=(e,r)=>{_rely.saveInLocalStorage(e,r),_rely.saveInFirstPartyCookies(e,r)},_rely.saveSgInLocalStorageAndFPCookies=e=>{try{_rely.saveInLocalStorage("_rl_sg",e)}catch(e){}try{_rely.saveInFirstPartyCookies("_rl_sg",e)}catch(e){}},_rely.getLocalUserId=()=>{let e=_rely.getLocalStorageOrCookieUserId();return e||_rely.generateAndSaveRelyId()},_rely.reloadFormTags=function(){"object"==typeof _rl_ids&&"object"==typeof _rl_ids[0]&&_rl_ids[0].pid&&(this.pts({type:"formtags",pid:_rl_ids[0].pid}),this.stack_call())},_rely.getUrl=function(e){if(void 0!==_rely.options&&void 0!==_rely.options.url&&""!==_rely.options.url){if(/^(((H|h)(T|t)(T|t)(P|p)(S|s)?):\/\/)?[-a-zA-Z0-9@:%._\+~#=]{2,100}\.[a-zA-Z]{2,10}(\/([-a-zA-Z0-9@:%_\+.~#?&//=]*))?/.test(_rely.options.url))return _rely.browserUrl=_d.location.href,_rely.options.url;console.error("Invalid URL on option. It will be ignored.")}return e},_rely.svid(),void 0!==_rely.options&&_rely.options.spa_autoreload&&!_rely.udact&&_rely.udtc(),_rely.rpv();const scriptDefined=!0;
